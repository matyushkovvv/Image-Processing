# ЛР4 - бинаризация и простое детектирование объектов

## Описание
Приложение, предназначенное для бинаризации и детектирования объектов на входном изображении.

Приложение включает в себя генератор сэмплов в виде выходных изображений и соответствующих им json-файлов с данными о положении и размере объектов на картинке для последующего контроля качества.

Приложение подразумевает пользовательский интерфейс с ползунками для управления параметрами бинаризации и детекции.

## Бинаризация
В приложении используется адаптивная бинаризация.

Для настройки бинаризации ползунками доступны следующие опции:
- *режим работы*
- *инверсия*
- *размер блока*
- *константа*

## Детекция
Из бинаризованного изображения путем использования детектирования при помощи компонент связности получается набор сдетектированных объектов.

Для настройки детекции ползунками доступны следующие опции:
- *минимальный размер объекта*
- *максимальный размер объекта*
- *размер ядра размытия*

Перед применением поиска компонент связности, на изображение накладывается размытие Гаусса с настраиваемым размером ядра.
Полученный набор объектов фильтруется по заданным минимальному и максимальному размерам детекции.

Для оценки качества для каждого объекта по построенной для него маске считаются параметры IOU для объектов из json со входными данными.

## Настройки для оценки качества
Для тестирования применялись следующие настройки бинаризации:
- ***Размер блока = 167***
- ***Константа = 7.1***

Для тестирования применялись следующие настройки детекции:
- ***Мин. размер = 5 пикселей***
- ***Макс. размер = 40***
- ***Размер ядра размытия = 7***

## Примеры работы приложения
На каждый сэмпл накладываются аддитивный шум и размытие Гаусса с различными параметрами

- Отклонение шума = 5
- Размытие - отсутствует
    ![](./lab04_0.png)
    - TP = 66
    - FP = 0
    - FN = 0
<br />
- Отклонение шума = 5
- Размер ядра размытия = 3
- Отклонение размытия = 5
    ![](./lab04_1.png)
    - TP = 36
    - FP = 0
    - FN = 0
<br />
- Отклонение шума = 3
- Размер ядра размытия = 3
- Отклонение размытия = 5
    ![](./lab04_2.png)
    - TP = 30
    - FP = 0
    - FN = 5
<br />
- Отклонение шума = 5
- Размер ядра размытия = 5
- Отклонение размытия = 7
    ![](./lab04_3.png)
    - TP = 48
    - FP = 0
    - FN = 6
<br />
- Отклонение шума = 5
- Размер ядра размытия = 5
- Отклонение размытия = 7
    ![](./lab04_4.png)
    - TP = 135
    - FP = 7
    - FN = 9
<br />
- Отклонение шума = 5
- Размер ядра размытия = 5
- Отклонение размытия = 7
    ![](./lab04_5.png)
    - TP = 57
    - FP = 7
    - FN = 6

Итого:
- True Positive = 372
- False Positive = 14
- False Negative = 26